name: tutorial-sum

on:
  workflow_dispatch:
    inputs:
      OVERWRITTEN:
        description: 'overwritten fields'
        required: true
      PAYLOAD_URL:
        description: 'url to payload'
        required: true
jobs:
  run_docker_image:
    runs-on: ubuntu-latest
    container: ghcr.io/faasr/github-actions-r:dev
    env:
      TOKEN: ${{ secrets.My_GitHub_Account_PAT }}
      My_GitHub_Account_PAT: ${{ secrets.My_GitHub_Account_PAT }}
      My_S3_Bucket_AccessKey: ${{ secrets.My_S3_Bucket_AccessKey }}
      My_S3_Bucket_SecretKey: ${{ secrets.My_S3_Bucket_SecretKey }}
      OVERWRITTEN: ${{ github.event.inputs.OVERWRITTEN }}
      PAYLOAD_URL: ${{ github.event.inputs.PAYLOAD_URL }}
    steps:
    - name: run Python
      run: |
        cd /action
        python3 faasr_entry.py
